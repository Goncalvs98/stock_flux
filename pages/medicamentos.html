<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicamentos</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/styles_grid.css">
</head>
<body>
    <div class="container">
        <h1>StockFlux</h1>
        <h2>Medicamentos</h2>
                
        <div class="filtros">
            <div class="filtro">
                <label for="categoria">Categoria:</label>
                <input type="text" id="categoria" placeholder="Categoria">
            </div>
            <div class="filtro">
                <label for="motivo">Motivo:</label>
                <input type="text" id="motivo" placeholder="Motivo">
            </div>
            <div class="filtro">
                <label for="status">Status:</label>
                <input type="text" id="status" placeholder="Status">
            </div>
            <div class="filtro">
                <label for="medicamento_nome">Nome do Medicamento:</label>
                <input type="text" id="medicamento_nome" placeholder="Nome do Medicamento">
            </div>
            <div class="filtro">
                <button onclick="fetchMedicamentos()">Filtrar</button>
            </div>
        </div>

        <table class="grid" id="medicamentos-table">
            <thead>
                <tr>
                    <th>Categoria</th>
                    <th>Motivo</th>
                    <th>Nome</th>
                    <th>Código</th>
                    <th>Quantidade</th>
                    <th>Localização</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="medicamentos-tbody">
                <!-- Dados serão inseridos aqui -->
            </tbody>
        </table>
    </div>

    <script src="../assets/js/main.js"></script>

    <script>
        const categoria = document.getElementById('categoria').value;
        const motivo = document.getElementById('motivo').value;
        const status = document.getElementById('status').value;
        const medicamento_nome = document.getElementById('medicamento_nome').value;
        const tbody = document.getElementById('medicamentos-tbody');
        const params = new URLSearchParams();

        if (categoria) params.append('categoria_id', categoria);
        if (motivo) params.append('motivo_id', motivo);
        if (status) params.append('status_id', status);
        if (medicamento_nome) params.append('medicamento_nome', medicamento_nome);

        // Chama a função ao carregar a página
        window.onload = populateGrid('medicamentos', params.toString(), tbody);
    </script>
</body>
</html>
